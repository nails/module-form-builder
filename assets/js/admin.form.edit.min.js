var _ADMIN_FORM_EDIT;_ADMIN_FORM_EDIT=function(e,t){var n=this;return n.tplField=$("#template-field").html(),n.tplOptionContainer=$("#template-field-option-container").html(),n.tplOption=$("#template-field-option").html(),n.fieldCount=0,n.typeWithOptions=e||[],n.typeWithDefaultValue=t||[],n.__construct=function(){$("#field-do-send-thankyou").on("toggle",function(e,t){n.fieldDoSendThankYou(t)}),$("#form-fields").on("change",".field-type",function(){n.fieldTypeChanged($(this))}),$("#form-fields").on("change",".field-default",function(){n.fieldDefaultChanged($(this))}),$("#add-field").on("click",function(){return n.addField(),!1}),$("#form-fields").on("click",".remove-field",function(){return n.removeField($(this)),!1}),$(document).on("click",".add-option",function(){n.addOption($(this))}),$(document).on("click",".remove-option",function(){return n.removeOption($(this)),!1}),$("#main-form").on("submit",function(){return n.validate()}),n.fieldDoSendThankYou($("#field-do-send-thankyou input[type=checkbox]").is(":checked")),$("#form-fields td.type .field-type, #form-fields td.default .field-default").each(function(){$(this).trigger("change")}),n.fieldCount=$("#form-fields tbody tr").length-1,$("#form-fields tbody").sortable({handle:".handle",axis:"y",containment:"parent",placeholder:"placeholder",helper:function(e,t){var n=t.children(),i=t.clone();return i.children().each(function(e){$(this).width(n.eq(e).outerWidth())}),i.css({"margin-left":"-1px","box-shadow":"0px 2px 5px rgba(0, 0, 0, 0.25)"}),i},start:function(e,t){t.placeholder.height(t.helper.outerHeight())}})},n.fieldDoSendThankYou=function(e){e?$("#send-thankyou-options").show():$("#send-thankyou-options").hide(),"function"==typeof _nails&&_nails.addStripes()},n.addField=function(){n.fieldCount++;var e,t;t={fieldNumber:n.fieldCount},e=Mustache.render(n.tplField,t),$("#form-fields tbody").append(e),e=Mustache.render(n.tplOptionContainer,t),$("#field-options").append(e),$("#form-fields tbody tr").last().find(".select2").select2()},n.removeField=function(e){var t=e.data("field-number");e.closest("tr").remove(),$("#form-field-options-"+t).remove()},n.addOption=function(e){var t,i,o;t=e.parent().parent().find("table"),o={fieldNumber:e.data("field-number"),optionNumber:t.data("option-count")||0},i=Mustache.render(n.tplOption,o),$("#form-field-options-"+o.fieldNumber+" tbody").append(i),t.data("option-count",o.optionNumber+1),$.fancybox.update()},n.removeOption=function(e){e.closest("tr").remove(),$.fancybox.update()},n.fieldTypeChanged=function(e){$.inArray(e.val(),n.typeWithOptions)>=0?e.siblings("a").addClass("is-active"):e.siblings("a").removeClass("is-active"),$.inArray(e.val(),n.typeWithDefaultValue)>=0?(e.closest("tr").find("td.default .js-supports-default-value").show(),e.closest("tr").find("td.default .js-no-default-value").hide()):(e.closest("tr").find("td.default .js-supports-default-value").hide(),e.closest("tr").find("td.default .js-no-default-value").show())},n.fieldDefaultChanged=function(e){switch(e.val()){case"CUSTOM":e.siblings("input").addClass("is-active");break;default:e.siblings("input").removeClass("is-active")}},n.validate=function(){return!0},n.__construct()};
//# sourceMappingURL=admin.form.edit.min.js.map
